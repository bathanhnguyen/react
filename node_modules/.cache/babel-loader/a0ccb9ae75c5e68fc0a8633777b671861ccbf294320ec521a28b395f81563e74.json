{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\win10\\\\Desktop\\\\Khoaluantotnghiep\\\\KLTN-react\\\\src\\\\contextProvider\\\\ProviderInfo.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useEffect, useState } from \"react\";\n// import { linkApi } from \"../components/utils/linkApi\";\nimport Cookies from \"universal-cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const InfoContext = /*#__PURE__*/createContext({});\nexport const InfoProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  // userData is cookie storage user\n  const userData = new Cookies();\n  const searchValue = new Cookies();\n\n  // is cookie storage shoping cart\n\n  const cartCookie = new Cookies();\n\n  // value in cart, if cartData in cookie = undefined, defaul value is \"\", else get cart data from Cookie\n  const [cart, setCart] = useState(() => {\n    if (cartCookie.get(\"cartData\") === undefined) {\n      return [];\n    } else {\n      return cartCookie.get(\"cartData\");\n    }\n  });\n\n  // authUser for Learner, check userData = undefine or \"\" then default value is \"false\", else follow conditional bellow for check require auth\n  const [authUser, setAuthUser] = useState(() => {\n    if (userData.get(\"userData\") !== undefined && userData.get(\"userData\") !== \"\") {\n      if (userData.get(\"userData\").id !== \"\" && userData.get(\"userData\").roleid === '2' && userData.get(\"userData\").status === \"200\" && userData.get(\"userData\").token !== \"\") {\n        return true;\n      } else {\n        return false;\n      }\n    } else return false;\n  });\n  // auth like authUser, but for all user\n  const [auth, setAuth] = useState(() => {\n    if (userData.get(\"userData\") !== undefined && userData.get(\"userData\") !== \"\") {\n      if (userData.get(\"userData\").status === \"200\" && userData.get(\"userData\").id !== \"\" && userData.get(\"userData\").token !== \"\") {\n        return true;\n      } else {\n        return false;\n      }\n    } else return false;\n  });\n  const [authAdmin, setAuthAdmin] = useState(() => {\n    if (userData.get(\"userData\") !== undefined && userData.get(\"userData\") !== \"\") {\n      if (userData.get(\"userData\").id !== \"\" && userData.get(\"userData\").roleid === '0' && userData.get(\"userData\").status === \"200\" && userData.get(\"userData\").token !== \"\") {\n        return true;\n      } else {\n        return false;\n      }\n    } else return false;\n  });\n  const [authStaff, setAuthStaff] = useState(() => {\n    if (userData.get(\"userData\") !== undefined && userData.get(\"userData\") !== \"\") {\n      if (userData.get(\"userData\").status === \"200\" && userData.get(\"userData\").id !== \"\" && userData.get(\"userData\").token !== \"\" && userData.get(\"userData\").roleid === '1') {\n        return true;\n      } else {\n        return false;\n      }\n    } else return false;\n  });\n  useEffect(() => {\n    // create cookie defaul when user has no cookie\n    if (userData.get(\"userData\") === undefined) {\n      userData.set(\"userData\", {\n        id: \"\",\n        token: \"\",\n        roleId: \"\",\n        email: \"\",\n        status: 400\n      }, {\n        path: \"/\"\n      });\n      if (searchValue.get(\"searchValue\") === undefined) {\n        searchValue.set(\"searchValue\", \"\", {\n          path: \"/\"\n        });\n      }\n    }\n  }, [userData, searchValue]);\n\n  // useEffect(() => {\n  //   if (userData.get(\"userData\") === undefined) {\n  //     Swal.fire({\n  //       title: \"Error\",\n  //       text: \"Bạn cần đăng nhập\",\n  //       type: \"error\",\n  //     }).then(function () {\n  //       // Redirect the user\n  //       window.location.href = \"/login\";\n  //     });\n  //   } else {\n  //     console.log(\"not null!!!\");\n  //   }\n\n  // }, []);\n\n  // if (cartCookie.get(\"cartData\") === undefined) {\n  //   cartCookie.set(\"cartData\", [], { path: \"/\" });\n  // }\n\n  // useEffect(() => {\n  //   if (userData.get(\"userData\") === undefined) {\n  //     Swal.fire({\n  //       title: \"Error\",\n  //       text: \"Bạn cần đăng nhập\",\n  //       type: \"error\",\n  //     }).then(function () {\n  //       // Redirect the user\n  //       window.location.href = \"/login\";\n  //     });\n  //   } else {\n  //     console.log(\"not null!!!\");\n  // }, []);\n\n  return /*#__PURE__*/_jsxDEV(InfoContext.Provider, {\n    value: {\n      userData,\n      cart,\n      setCart,\n      cartCookie,\n      authUser,\n      auth,\n      setAuthUser,\n      setAuth,\n      authAdmin,\n      setAuthAdmin,\n      authStaff,\n      setAuthStaff,\n      searchValue\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 5\n  }, this);\n};\n_s(InfoProvider, \"rV34Bg8h/rNh5PCrkwcdZpk9p2Y=\");\n_c = InfoProvider;\nvar _c;\n$RefreshReg$(_c, \"InfoProvider\");","map":{"version":3,"names":["React","createContext","useEffect","useState","Cookies","jsxDEV","_jsxDEV","InfoContext","InfoProvider","_ref","_s","children","userData","searchValue","cartCookie","cart","setCart","get","undefined","authUser","setAuthUser","id","roleid","status","token","auth","setAuth","authAdmin","setAuthAdmin","authStaff","setAuthStaff","set","roleId","email","path","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/win10/Desktop/Khoaluantotnghiep/KLTN-react/src/contextProvider/ProviderInfo.js"],"sourcesContent":["import React, { createContext, useEffect, useState } from \"react\";\r\n// import { linkApi } from \"../components/utils/linkApi\";\r\nimport Cookies from \"universal-cookie\";\r\n\r\nexport const InfoContext = createContext({});\r\nexport const InfoProvider = ({ children }) => {\r\n  // userData is cookie storage user\r\n  const userData = new Cookies();\r\n  const searchValue = new Cookies();\r\n\r\n  // is cookie storage shoping cart\r\n\r\n  const cartCookie = new Cookies();\r\n\r\n  // value in cart, if cartData in cookie = undefined, defaul value is \"\", else get cart data from Cookie\r\n  const [cart, setCart] = useState(() => {\r\n    if (cartCookie.get(\"cartData\") === undefined) {\r\n      return [];\r\n    } else {\r\n      return cartCookie.get(\"cartData\");\r\n    }\r\n  });\r\n\r\n  // authUser for Learner, check userData = undefine or \"\" then default value is \"false\", else follow conditional bellow for check require auth\r\n  const [authUser, setAuthUser] = useState(() => {\r\n    if (\r\n      userData.get(\"userData\") !== undefined &&\r\n      userData.get(\"userData\") !== \"\"\r\n    ) {\r\n      if (\r\n        userData.get(\"userData\").id !== \"\" &&\r\n        userData.get(\"userData\").roleid === '2' &&\r\n        userData.get(\"userData\").status === \"200\" &&\r\n        userData.get(\"userData\").token !== \"\"\r\n      ) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    } else return false;\r\n  });\r\n  // auth like authUser, but for all user\r\n  const [auth, setAuth] = useState(() => {\r\n    if (\r\n      userData.get(\"userData\") !== undefined &&\r\n      userData.get(\"userData\") !== \"\"\r\n    ) {\r\n      if (\r\n        userData.get(\"userData\").status === \"200\" &&\r\n        userData.get(\"userData\").id !== \"\" &&\r\n        userData.get(\"userData\").token !== \"\"\r\n      ) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    } else return false;\r\n  });\r\n  const [authAdmin, setAuthAdmin] = useState(() => {\r\n    if (\r\n      userData.get(\"userData\") !== undefined &&\r\n      userData.get(\"userData\") !== \"\"\r\n    ) {\r\n      if (\r\n        userData.get(\"userData\").id !== \"\" &&\r\n        userData.get(\"userData\").roleid === '0' &&\r\n        userData.get(\"userData\").status === \"200\" &&\r\n        userData.get(\"userData\").token !== \"\"\r\n      ) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    } else return false;\r\n  });\r\n  const [authStaff, setAuthStaff] = useState(() => {\r\n    if (\r\n      userData.get(\"userData\") !== undefined &&\r\n      userData.get(\"userData\") !== \"\"\r\n    ) {\r\n      if (\r\n        userData.get(\"userData\").status === \"200\" &&\r\n        userData.get(\"userData\").id !== \"\" &&\r\n        userData.get(\"userData\").token !== \"\" &&\r\n        userData.get(\"userData\").roleid === '1'\r\n      ) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    } else return false;\r\n  });\r\n\r\n  useEffect(() => {\r\n    // create cookie defaul when user has no cookie\r\n    if (userData.get(\"userData\") === undefined) {\r\n      userData.set(\r\n        \"userData\",\r\n        {\r\n          id: \"\",\r\n          token: \"\",\r\n          roleId: \"\",\r\n          email: \"\",\r\n          status: 400,\r\n        },\r\n        { path: \"/\" }\r\n      );\r\n      if (searchValue.get(\"searchValue\") === undefined) {\r\n        searchValue.set(\"searchValue\", \"\", { path: \"/\" });\r\n      }\r\n    }\r\n  }, [userData, searchValue]);\r\n\r\n  // useEffect(() => {\r\n  //   if (userData.get(\"userData\") === undefined) {\r\n  //     Swal.fire({\r\n  //       title: \"Error\",\r\n  //       text: \"Bạn cần đăng nhập\",\r\n  //       type: \"error\",\r\n  //     }).then(function () {\r\n  //       // Redirect the user\r\n  //       window.location.href = \"/login\";\r\n  //     });\r\n  //   } else {\r\n  //     console.log(\"not null!!!\");\r\n  //   }\r\n\r\n  // }, []);\r\n\r\n  // if (cartCookie.get(\"cartData\") === undefined) {\r\n  //   cartCookie.set(\"cartData\", [], { path: \"/\" });\r\n  // }\r\n\r\n  // useEffect(() => {\r\n  //   if (userData.get(\"userData\") === undefined) {\r\n  //     Swal.fire({\r\n  //       title: \"Error\",\r\n  //       text: \"Bạn cần đăng nhập\",\r\n  //       type: \"error\",\r\n  //     }).then(function () {\r\n  //       // Redirect the user\r\n  //       window.location.href = \"/login\";\r\n  //     });\r\n  //   } else {\r\n  //     console.log(\"not null!!!\");\r\n  // }, []);\r\n\r\n  return (\r\n    <InfoContext.Provider\r\n      value={{\r\n        userData,\r\n        cart,\r\n        setCart,\r\n        cartCookie,\r\n        authUser,\r\n        auth,\r\n        setAuthUser,\r\n        setAuth,\r\n        authAdmin,\r\n        setAuthAdmin,\r\n        authStaff,\r\n        setAuthStaff,\r\n        searchValue,\r\n      }}\r\n    >\r\n      {children}\r\n    </InfoContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}